#include "interface.h"
const uint8_t heart[] =
{
	0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 
	0x07, 0xc0, 0x07, 0xc0, 
	0x0f, 0xe0, 0x0f, 0xe0, 
	0x1f, 0xf8, 0x3f, 0xf0, 
	0x3f, 0xfc, 0x7f, 0xf8, 
	0x7f, 0xff, 0xff, 0xf8, 
	0x7f, 0xff, 0xff, 0xfc, 
	0x7f, 0xff, 0xff, 0xfc, 
	0x7f, 0xff, 0xff, 0xfc, 
	0x7f, 0xff, 0xff, 0xfc, 
	0x3f, 0xff, 0xff, 0xfc, 
	0x3f, 0xff, 0xff, 0xf8, 
	0x1f, 0xff, 0xff, 0xf0, 
	0x0f, 0xff, 0xff, 0xf0, 
	0x0f, 0xff, 0xff, 0xe0, 
	0x07, 0xff, 0xff, 0xc0, 
	0x03, 0xff, 0xff, 0x80, 
	0x01, 0xff, 0xff, 0x00, 
	0x00, 0xff, 0xfe, 0x00, 
	0x00, 0x7f, 0xfc, 0x00, 
	0x00, 0x3f, 0xf8, 0x00, 
	0x00, 0x1f, 0xf0, 0x00, 
	0x00, 0x0f, 0xe0, 0x00, 
	0x00, 0x07, 0xe0, 0x00, 
	0x00, 0x03, 0xc0, 0x00, 
	0x00, 0x01, 0x80, 0x00, 
	0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00
};

void teamInit(uint8_t team){

}
	

//color = BLUE or color = RED
void drawHeart(uint16_t x, uint16_t y, uint16_t color){
	for(int i = 0; i < 128; i++){
		for(int n = 0; n < 8; n++){
			uint8_t nth_bit = heart[i] & (1<<(7-n)) ;
			if ((nth_bit>>(7-n) )== 1)
				LCD_DrawDot(x+i%4*8+n, y+i/4, color );
		}
	}
}

void lifeIndicate (uint8_t remainingLife){
	for (int i=0; i<remainingLife; i++){
		drawHeart(104,18+i*50 , RED);
	}
}

void teamIndicate (uint8_t team){
	uint16_t teamColor;
	if(team == 0)
		teamColor = RED;
	else 
		teamColor = BLUE;
	
	LCD_OpenWindow ( 0, 0, 80, 320 );
	LCD_FillColor ( 80 * 320, teamColor );		
	
	LCD_OpenWindow ( 240-80, 0, 80, 320 );
	LCD_FillColor ( 80 * 320, teamColor );
}

void display(uint8_t team, uint8_t remainingLife){
	teamIndicate(team);
	lifeIndicate(remainingLife);
}

